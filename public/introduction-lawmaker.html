<!DOCTYPE html>
<html>
	<head>
		<title>参加議員紹介</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
		<link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
		<link rel="stylesheet" type="text/css" href="/assets/css/common.css">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.js"></script>
		<script type="text/javascript" src="/assets/js/common.js"></script>
		<style type="text/css" media="screen">

		.content-introduction-lawmaker {
			padding: 20px;
		}

		.member-container {
			border-radius: 10px;
			width: 60%;
			height: 250px;
			vertical-align: center;
			margin-left: auto;
			margin-right: auto;
			margin-top: 20px;
			padding: 20px;
		}

		.member-container img {
			width: 150px;
			height: 150px;
			border-radius: 75px;
			display: block;
			vertical-align: center;
			margin: auto;
		}

		.member-container a {
			display: block;
			margin: 5px;
			float: left;
		}

		.color-blue {
			color:  #ffffff;
			background-color: #4164bb;
		}

		.color-white {
			color:  #4164bb;
			background-color: #ffffff;
			border: 3px solid #4164bb;
		}

		.picture-area {
			width: 40%;
			float: left;
		}

		.sns-area {
			width: 80%;
		}

		.info-area {
			float: left;
			width: 60%;
		}

		.info-area p {
			text-align: left;
			word-wrap: break-word;
		}

		</style>
		<script>
			$(function(){
			$("#pc-header").load("./header.html");
		  })
		</script>
	</head>
	<body>
		<div id="logo"></div>
		<div id="toggle"></div>
		<div id="menu"></div>
		
		<div class="content-introduction-lawmaker">
			<script id="member" type="text/x-jquery-tmpl">
				<div class="member-container ${colorStyle}">
					<div class="picture-area">
						<img src="${icon_url}" alt="メンバー">
						<div class="sns-area">
							<a href="${facebook}" class="">Facebook</a>
							<a href="${twitter}" class="">twitter</a>
							<a href="${link}" class="">link</a>
						</div>
					</div>
					<div class="info-area">
							<p>${name}</p>	
							<p>${nickname}</p>
							<p>キャッチフレーズ</p>
							<p>${catchphrase}</p>
							<p>力を入れていること</p>
							<p>${emphasis}</p>
					</div>
				</div>
			</script>
		</div>



		<script type="text/javascript">
			// API へリクエスト
            $.getJSON('http://glamourousparty.com/api/councilors', function(json) {
                // 警告
                if (json.contents[0].length === 0) {
                    alert('コンテンツが見つかりませんでした(´・ω・｀)');
                    return;
                }
				var memberInfo = [];
				var i=0;
				for (i=0; i<=json.contents.length-1; i++) {

					// 背景になるカードを交互に出し分ける
					// ↑ によって文字も色わける
					var colorStyle = "color-white";
					if (i%2==0) {
						colorStyle = "color-blue";
					}
					memberInfo.push(
						{
						 "name": json.contents[i].name,
						 "nickname":json.contents[i].nickname,
						 "location":json.contents[i].location,
						 "icon_url": json.contents[i].icon_url,
						 "emphasis": json.contents[i].emphasis,
						 "catchphrase": json.contents[i].catchphrase,
						 "twitter": json.contents[i].twitter,
						 "facebook": json.contents[i].facebook,
						 "link": json.contents[i].link,
						 "colorStyle": colorStyle
						}
					);
				}

				// $.tmpl($( "#member" ), memberInfo).appendTo( ".content-introduction-lawmaker" );
				$.tmpl($( "#member" ), memberInfo).appendTo( ".content-introduction-lawmaker" );
			});
		</script>

	</body>
</html>
